\documentclass[letterpaper,twoside,10pt]{report}
\usepackage[vmargin=1in,hmargin=1in]{geometry}
\usepackage[titles]{tocloft}

% make XeTeX work properly with the \- (discretionary intraword hyphen),
% \textsuperscript, and \textsubscript commands (also loads the 'xunicode'
% package and other packages to make XeTeX work better; it also loads the
% 'fontspec' package)
\usepackage{xltxtra}

% shortcut command for footnotes
\newcommand*\fn[1]{\footnote{#1}}

\usepackage{listings}
\lstloadlanguages{Haskell}
\lstnewenvironment{code}
	{\lstset{tabsize=4}%
		\csname lst@SetFirstLabel\endcsname}
		{\csname lst@SaveFirstLabel\endcsname}
	\lstset{
		basicstyle=\small\ttfamily,
		flexiblecolumns=false,
%		basewidth={0.6em,0.55em},
		literate=
				{+}{{$+$}}1
				{/}{{$/$}}1
				{*}{{$*$}}1
%				{=}{{$=$}}1
				{>}{{$>$}}1
				{<}{{$<$}}1
%				{\\}{{$\lambda$}}1
				{\\\\}{{\char`\\\char`\\}}1
				{->}{{$\rightarrow$}}2
				{<-}{{$\leftarrow$}}2
				{>=}{{$\geq$}}2
				{<=}{{$\leq$}}2
				{=>}{{$\Rightarrow$}}2
				{>>}{{>>}}2 {>>=}{{>>=}}2
				{\ .\ }{{$\circ$}}3
%				{|}{{$\mid$}}1
    }

\renewcommand*\oldstylenums{\addfontfeature{Numbers={OldStyle}}}
\setromanfont[Mapping=tex-text,Ligatures=Common]{Linux Libertine O}
\setsansfont[Mapping=tex-text,Ligatures=Common,Scale=0.8]{DejaVu Sans Condensed}
\setmonofont[]{DejaVu Sans Mono}

% intra-document hyperlinks
\usepackage[colorlinks,linkcolor=blue]{hyperref}
\begin{document}
\input{intro.tex}
\input{../src/ZTile.lhs}
\input{../src/ZTile/PathFinding.lhs}
\end{document}
